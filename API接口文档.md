# å°ç« ç®¡ç†ç³»ç»Ÿ API æ¥å£æ–‡æ¡£

## ğŸ“‹ æ¥å£æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°äº†å°ç« ç®¡ç†ç³»ç»Ÿçš„æ‰€æœ‰åç«¯ API æ¥å£ï¼ŒåŒ…æ‹¬è¯·æ±‚æ–¹å¼ã€å‚æ•°ã€å“åº”æ ¼å¼ç­‰è¯¦ç»†ä¿¡æ¯ã€‚

**åŸºç¡€ä¿¡æ¯**

- åŸºç¡€ URL: `http://localhost:8080/api`
- æ•°æ®æ ¼å¼: JSON
- å­—ç¬¦ç¼–ç : UTF-8
- è®¤è¯æ–¹å¼: JWT Token (åç»­å®ç°)

## ğŸ” ç»Ÿä¸€å“åº”æ ¼å¼

æ‰€æœ‰æ¥å£ç»Ÿä¸€ä½¿ç”¨ä»¥ä¸‹å“åº”æ ¼å¼ï¼š

```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {},
  "timestamp": "2025-06-29T15:30:45.123Z"
}
```

**å“åº”çŠ¶æ€ç è¯´æ˜**

- `200`: è¯·æ±‚æˆåŠŸ
- `400`: è¯·æ±‚å‚æ•°é”™è¯¯
- `401`: æœªæˆæƒè®¿é—®
- `403`: ç¦æ­¢è®¿é—®
- `404`: èµ„æºä¸å­˜åœ¨
- `500`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

## ğŸ“ æ¥å£åˆ—è¡¨

### 1. ç³»ç»Ÿç®¡ç†

#### 1.1 ç³»ç»ŸçŠ¶æ€æ£€æŸ¥

- **æ¥å£åœ°å€**: `GET /api/system/health`
- **æ¥å£æè¿°**: æ£€æŸ¥ç³»ç»Ÿè¿è¡ŒçŠ¶æ€
- **è¯·æ±‚æ–¹å¼**: GET
- **è¯·æ±‚å‚æ•°**: æ— 
- **è¯·æ±‚ç¤ºä¾‹**:
  ```
  GET /api/system/health
  ```
- **å“åº”ç¤ºä¾‹**:
  ```json
  {
    "code": 200,
    "message": "ç³»ç»Ÿè¿è¡Œæ­£å¸¸",
    "data": {
      "status": "UP",
      "version": "1.0.0",
      "database": "Connected"
    },
    "timestamp": "2025-06-29T15:30:45.123Z"
  }
  ```

### 2. ç”¨æˆ·ç®¡ç†

#### 2.1 ç”¨æˆ·ç™»å½•

- **æ¥å£åœ°å€**: `POST /api/auth/login`
- **æ¥å£æè¿°**: ç”¨æˆ·ç™»å½•è·å–è®¿é—®ä»¤ç‰Œ
- **è¯·æ±‚æ–¹å¼**: POST
- **è¯·æ±‚å‚æ•°**:
  | å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
  |--------|------|------|------|
  | username | String | æ˜¯ | ç”¨æˆ·å |
  | password | String | æ˜¯ | å¯†ç  |
- **è¯·æ±‚ç¤ºä¾‹**:
  ```json
  {
    "username": "admin",
    "password": "123456"
  }
  ```
- **å“åº”ç¤ºä¾‹**:
  ```json
  {
    "code": 200,
    "message": "ç™»å½•æˆåŠŸ",
    "data": {
      "token": "eyJhbGciOiJIUzI1NiJ9...",
      "userInfo": {
        "id": 1,
        "username": "admin",
        "name": "ç®¡ç†å‘˜",
        "role": "ADMIN"
      }
    },
    "timestamp": "2025-06-29T15:30:45.123Z"
  }
  ```

#### 2.2 ç”¨æˆ·æ³¨é”€

- **æ¥å£åœ°å€**: `POST /api/auth/logout`
- **æ¥å£æè¿°**: ç”¨æˆ·æ³¨é”€ç™»å½•
- **è¯·æ±‚æ–¹å¼**: POST
- **è¯·æ±‚å¤´**: `Authorization: Bearer {token}`
- **è¯·æ±‚å‚æ•°**: æ— 
- **å“åº”ç¤ºä¾‹**:
  ```json
  {
    "code": 200,
    "message": "æ³¨é”€æˆåŠŸ",
    "data": null,
    "timestamp": "2025-06-29T15:30:45.123Z"
  }
  ```

### 3. å°ç« ç®¡ç†

#### 3.1 è·å–å°ç« åˆ—è¡¨

- **æ¥å£åœ°å€**: `GET /api/seals`
- **æ¥å£æè¿°**: åˆ†é¡µè·å–å°ç« åˆ—è¡¨
- **è¯·æ±‚æ–¹å¼**: GET
- **è¯·æ±‚å¤´**: `Authorization: Bearer {token}`
- **è¯·æ±‚å‚æ•°**:
  | å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | é»˜è®¤å€¼ |
  |--------|------|------|------|--------|
  | page | Integer | å¦ | é¡µç  | 1 |
  | size | Integer | å¦ | æ¯é¡µæ•°é‡ | 10 |
  | keyword | String | å¦ | æœç´¢å…³é”®å­— | - |
  | status | String | å¦ | å°ç« çŠ¶æ€ | - |
- **è¯·æ±‚ç¤ºä¾‹**:
  ```
  GET /api/seals?page=1&size=10&keyword=å…¬ç« &status=ACTIVE
  ```
- **å“åº”ç¤ºä¾‹**:
  ```json
  {
    "code": 200,
    "message": "è·å–æˆåŠŸ",
    "data": {
      "total": 50,
      "page": 1,
      "size": 10,
      "list": [
        {
          "id": 1,
          "name": "å…¬å¸å…¬ç« ",
          "type": "OFFICIAL",
          "status": "ACTIVE",
          "description": "ç”¨äºå…¬å¸å¯¹å¤–æ–‡ä»¶ç›–ç« ",
          "imageUrl": "/uploads/seals/seal_001.png",
          "createTime": "2025-06-29T10:00:00.000Z",
          "updateTime": "2025-06-29T15:30:45.123Z"
        }
      ]
    },
    "timestamp": "2025-06-29T15:30:45.123Z"
  }
  ```

#### 3.2 è·å–å°ç« è¯¦æƒ…

- **æ¥å£åœ°å€**: `GET /api/seals/{id}`
- **æ¥å£æè¿°**: æ ¹æ® ID è·å–å°ç« è¯¦ç»†ä¿¡æ¯
- **è¯·æ±‚æ–¹å¼**: GET
- **è¯·æ±‚å¤´**: `Authorization: Bearer {token}`
- **è·¯å¾„å‚æ•°**:
  | å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
  |--------|------|------|------|
  | id | Long | æ˜¯ | å°ç«  ID |
- **è¯·æ±‚ç¤ºä¾‹**:
  ```
  GET /api/seals/1
  ```
- **å“åº”ç¤ºä¾‹**:
  ```json
  {
    "code": 200,
    "message": "è·å–æˆåŠŸ",
    "data": {
      "id": 1,
      "name": "å…¬å¸å…¬ç« ",
      "type": "OFFICIAL",
      "status": "ACTIVE",
      "description": "ç”¨äºå…¬å¸å¯¹å¤–æ–‡ä»¶ç›–ç« ",
      "imageUrl": "/uploads/seals/seal_001.png",
      "keeper": "å¼ ä¸‰",
      "keeperPhone": "13800138000",
      "location": "è¡Œæ”¿éƒ¨åŠå…¬å®¤",
      "createTime": "2025-06-29T10:00:00.000Z",
      "updateTime": "2025-06-29T15:30:45.123Z"
    },
    "timestamp": "2025-06-29T15:30:45.123Z"
  }
  ```

#### 3.3 æ·»åŠ å°ç« 

- **æ¥å£åœ°å€**: `POST /api/seals`
- **æ¥å£æè¿°**: æ·»åŠ æ–°çš„å°ç« ä¿¡æ¯
- **è¯·æ±‚æ–¹å¼**: POST
- **è¯·æ±‚å¤´**: `Authorization: Bearer {token}`
- **è¯·æ±‚å‚æ•°**:
  | å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
  |--------|------|------|------|
  | name | String | æ˜¯ | å°ç« åç§° |
  | type | String | æ˜¯ | å°ç« ç±»å‹ (OFFICIAL/FINANCE/CONTRACT/PERSONAL) |
  | description | String | å¦ | å°ç« æè¿° |
  | keeper | String | æ˜¯ | ä¿ç®¡äºº |
  | keeperPhone | String | æ˜¯ | ä¿ç®¡äººç”µè¯ |
  | location | String | æ˜¯ | å­˜æ”¾ä½ç½® |
- **è¯·æ±‚ç¤ºä¾‹**:
  ```json
  {
    "name": "è´¢åŠ¡ä¸“ç”¨ç« ",
    "type": "FINANCE",
    "description": "ç”¨äºè´¢åŠ¡ç›¸å…³æ–‡ä»¶ç›–ç« ",
    "keeper": "æå››",
    "keeperPhone": "13900139000",
    "location": "è´¢åŠ¡éƒ¨åŠå…¬å®¤"
  }
  ```
- **å“åº”ç¤ºä¾‹**:
  ```json
  {
    "code": 200,
    "message": "æ·»åŠ æˆåŠŸ",
    "data": {
      "id": 2,
      "name": "è´¢åŠ¡ä¸“ç”¨ç« ",
      "type": "FINANCE",
      "status": "ACTIVE",
      "description": "ç”¨äºè´¢åŠ¡ç›¸å…³æ–‡ä»¶ç›–ç« ",
      "keeper": "æå››",
      "keeperPhone": "13900139000",
      "location": "è´¢åŠ¡éƒ¨åŠå…¬å®¤",
      "createTime": "2025-06-29T15:30:45.123Z",
      "updateTime": "2025-06-29T15:30:45.123Z"
    },
    "timestamp": "2025-06-29T15:30:45.123Z"
  }
  ```

### 4. ç”¨å°ç”³è¯·ç®¡ç†

#### 4.1 è·å–ç”¨å°ç”³è¯·åˆ—è¡¨

- **æ¥å£åœ°å€**: `GET /api/applications`
- **æ¥å£æè¿°**: åˆ†é¡µè·å–ç”¨å°ç”³è¯·åˆ—è¡¨
- **è¯·æ±‚æ–¹å¼**: GET
- **è¯·æ±‚å¤´**: `Authorization: Bearer {token}`
- **è¯·æ±‚å‚æ•°**:
  | å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | é»˜è®¤å€¼ |
  |--------|------|------|------|--------|
  | page | Integer | å¦ | é¡µç  | 1 |
  | size | Integer | å¦ | æ¯é¡µæ•°é‡ | 10 |
  | status | String | å¦ | ç”³è¯·çŠ¶æ€ | - |
  | applicant | String | å¦ | ç”³è¯·äºº | - |
- **å“åº”ç¤ºä¾‹**:
  ```json
  {
    "code": 200,
    "message": "è·å–æˆåŠŸ",
    "data": {
      "total": 25,
      "page": 1,
      "size": 10,
      "list": [
        {
          "id": 1,
          "applicant": "ç‹äº”",
          "department": "é”€å”®éƒ¨",
          "sealName": "å…¬å¸å…¬ç« ",
          "purpose": "åˆåŒç›–ç« ",
          "status": "PENDING",
          "applyTime": "2025-06-29T14:00:00.000Z",
          "urgency": "NORMAL"
        }
      ]
    },
    "timestamp": "2025-06-29T15:30:45.123Z"
  }
  ```

#### 4.2 æäº¤ç”¨å°ç”³è¯·

- **æ¥å£åœ°å€**: `POST /api/applications`
- **æ¥å£æè¿°**: æäº¤æ–°çš„ç”¨å°ç”³è¯·
- **è¯·æ±‚æ–¹å¼**: POST
- **è¯·æ±‚å¤´**: `Authorization: Bearer {token}`
- **è¯·æ±‚å‚æ•°**:
  | å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
  |--------|------|------|------|
  | sealId | Long | æ˜¯ | å°ç«  ID |
  | purpose | String | æ˜¯ | ç”¨å°ç›®çš„ |
  | urgency | String | æ˜¯ | ç´§æ€¥ç¨‹åº¦ (LOW/NORMAL/HIGH/URGENT) |
  | expectedTime | String | æ˜¯ | é¢„æœŸç”¨å°æ—¶é—´ (ISO æ ¼å¼) |
  | description | String | å¦ | è¯¦ç»†è¯´æ˜ |
- **è¯·æ±‚ç¤ºä¾‹**:
  ```json
  {
    "sealId": 1,
    "purpose": "é”€å”®åˆåŒç›–ç« ",
    "urgency": "NORMAL",
    "expectedTime": "2025-06-30T09:00:00.000Z",
    "description": "ä¸ABCå…¬å¸ç­¾è®¢é”€å”®åˆåŒï¼Œéœ€è¦ç›–å…¬ç« "
  }
  ```

## ğŸ“Š æ•°æ®å­—å…¸

### å°ç« ç±»å‹ (SealType)

- `OFFICIAL`: å…¬ç« 
- `FINANCE`: è´¢åŠ¡ç« 
- `CONTRACT`: åˆåŒç« 
- `PERSONAL`: ä¸ªäººå°ç« 

### å°ç« çŠ¶æ€ (SealStatus)

- `ACTIVE`: æ­£å¸¸ä½¿ç”¨
- `INACTIVE`: æš‚åœä½¿ç”¨
- `DAMAGED`: æŸå
- `LOST`: é—å¤±

### ç”³è¯·çŠ¶æ€ (ApplicationStatus)

- `PENDING`: å¾…å®¡æ‰¹
- `APPROVED`: å·²æ‰¹å‡†
- `REJECTED`: å·²æ‹’ç»
- `COMPLETED`: å·²å®Œæˆ
- `CANCELLED`: å·²å–æ¶ˆ

### ç´§æ€¥ç¨‹åº¦ (Urgency)

- `LOW`: ä½
- `NORMAL`: ä¸€èˆ¬
- `HIGH`: é«˜
- `URGENT`: ç´§æ€¥

## ğŸ“š é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  | è¯´æ˜                 |
| ------ | -------------------- |
| 10001  | ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯     |
| 10002  | ç”¨æˆ·ä¸å­˜åœ¨           |
| 10003  | ç”¨æˆ·å·²è¢«ç¦ç”¨         |
| 20001  | å°ç« ä¸å­˜åœ¨           |
| 20002  | å°ç« å·²è¢«ç¦ç”¨         |
| 30001  | ç”³è¯·ä¸å­˜åœ¨           |
| 30002  | ç”³è¯·çŠ¶æ€ä¸å…è®¸æ­¤æ“ä½œ |
| 40001  | å‚æ•°éªŒè¯å¤±è´¥         |
| 50001  | ç³»ç»Ÿå†…éƒ¨é”™è¯¯         |

## ğŸ”„ ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬  | æ—¥æœŸ       | è¯´æ˜                       |
| ----- | ---------- | -------------------------- |
| 1.0.0 | 2025-06-29 | åˆå§‹ç‰ˆæœ¬ï¼Œå®šä¹‰åŸºç¡€æ¥å£ç»“æ„ |

---

**å¤‡æ³¨**:

- æœ¬æ–‡æ¡£éšå¼€å‘è¿›åº¦æŒç»­æ›´æ–°
- æ‰€æœ‰æ—¶é—´æ ¼å¼å‡ä½¿ç”¨ ISO 8601 æ ¼å¼
- åˆ†é¡µä» 1 å¼€å§‹è®¡æ•°
- æ‰€æœ‰æ¥å£éƒ½éœ€è¦è¿›è¡Œèº«ä»½éªŒè¯ï¼ˆé™¤ç™»å½•æ¥å£å¤–ï¼‰
